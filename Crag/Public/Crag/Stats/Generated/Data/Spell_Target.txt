new entry "Target_Summon_Crag"
type "SpellData"
data "SpellType" "Target"
data "Level" "1"
data "SpellSchool" "Conjuration"
data "Cooldown" "OncePerShortRestPerItem"
data "SpellProperties" "GROUND:Summon(af9eb34e-6e4c-494a-8b35-2d42fe3a1264,Permanent,,,'CragStack',UNSUMMON_ABLE,Crag_Scaling_Status)"
data "TargetRadius" "18"
data "TargetConditions" "CanStand('af9eb34e-6e4c-494a-8b35-2d42fe3a1264') and not Character() and not Self()"
data "Icon" "Spell_Conjuration_ConjureElemental_Earth"
data "DisplayName" "ha25219c5gf203g44aag9504g39114f9920cc;1"
data "Description" "h50d987fcg3142g4a74g885cg91f3368a934a;1"
data "CastSound" "Spell_Cast_Summon_FindFamiliar_L1to3"
data "TargetSound" "Spell_Impact_Summon_FindFamiliar_L1to3"
data "PreviewCursor" "Cast"
data "CastTextEvent" "Cast"
data "UseCosts" "ActionPoint:1"
data "SpellAnimation" "6f42f5f3-7a5a-4441-a02e-71b0450ac4b7,,;,,;605d49b4-03b9-47f6-96e9-7f80e6be7514,,;fbf20742-9dbf-475b-9ff5-42e4b08064ad,,;42aaefdc-cf9b-4249-b159-285041851f69,,;,,;20e11c98-fff9-4417-88de-5bcc2368a1bd,,;,,;,,"
data "VerbalIntent" "Summon"
data "SpellFlags" "IsSpell;HasSomaticComponent;HasVerbalComponent;HasHighGroundRangeExtension;CannotTargetCharacter;CannotTargetItems"
data "PrepareEffect" "1a34e89b-4685-4dfc-a7ea-6efc03e448cc"
data "CastEffect" "111a8b8c-b395-46d0-b2f0-a10ac6f9731f"

new entry "Target_Claws_Crag"
type "SpellData"
data "SpellType" "Target"
using "Target_Bite"
data "DisplayName" "h1cf2d98cgacf7g468bg8c68g692180086973;1"
data "Description" "h043ccb3cg8103g4ef0g97ebg92102e9b4ed3;1"
data "Icon" "Action_Monster_ElementalEarth_Slam"
data "UseCosts" "ActionPoint:1"
data "SpellSuccess" "DealDamage(max(1,2d4+UnarmedMeleeAbilityModifier),Bludgeoning,Magical);TARGET:IF(not SavingThrow(Ability.Constitution,SourceSpellDC())):ApplyStatus(PRONE,100,2)"
data "TooltipAttackSave" "MeleeUnarmedAttack;Strength"
data "TooltipStatusApply" "ApplyStatus(PRONE,100,2)"
data "TooltipDamageList" "DealDamage(2d4+UnarmedMeleeAbilityModifier,Bludgeoning)"
data "DescriptionParams" "DealDamage(2d4+UnarmedMeleeAbilityModifier,Bludgeoning)"
data "SpellAnimationIntentType" "Aggressive"
data "PrepareEffect" "29daf5c1-0870-4c3e-ae1d-3408621a033b"

new entry "Target_Claws_Crag2"
type "SpellData"
data "SpellType" "Target"
using "Target_Claws_Crag"
data "SpellSuccess" "DealDamage(max(1,3d4+UnarmedMeleeAbilityModifier),Bludgeoning,Magical);TARGET:IF(not SavingThrow(Ability.Constitution,SourceSpellDC())):ApplyStatus(PRONE,100,2)"
data "TooltipDamageList" "DealDamage(3d4+UnarmedMeleeAbilityModifier,Bludgeoning)"
data "DescriptionParams" "DealDamage(3d4+UnarmedMeleeAbilityModifier,Bludgeoning)"

new entry "Target_Claws_Crag3"
type "SpellData"
data "SpellType" "Target"
using "Target_Claws_Crag"
data "SpellSuccess" "DealDamage(max(1,4d4+UnarmedMeleeAbilityModifier),Bludgeoning,Magical);TARGET:IF(not SavingThrow(Ability.Constitution,SourceSpellDC())):ApplyStatus(PRONE,100,2)"
data "TooltipDamageList" "DealDamage(4d4+UnarmedMeleeAbilityModifier,Bludgeoning)"
data "DescriptionParams" "DealDamage(4d4+UnarmedMeleeAbilityModifier,Bludgeoning)"

new entry "Crag_Scaling_Status"
type "StatusData"
data "StatusType" "BOOST"
data "OnApplyFunctors" "ApplyStatus(Crag_Level1_Status,100,-1);IF(CharacterLevelGreaterThan(4, GetSummoner(context.Source))):ApplyStatus(Crag_Level5_Status,100,-1);;IF(CharacterLevelGreaterThan(6, GetSummoner(context.Source))):ApplyStatus(Crag_Level7_Status,100,-1);IF(CharacterLevelGreaterThan(9, GetSummoner(context.Source))):ApplyStatus(Crag_Level10_Status,100,-1);ApplyStatus(Crag_Claws_Status,100,-1);IF(CharacterLevelGreaterThan(4, GetSummoner(context.Source)) and not CharacterLevelGreaterThan(9, GetSummoner(context.Source))):ApplyStatus(Crag_Claws5_Status,100,-1);IF(CharacterLevelGreaterThan(9, GetSummoner(context.Source))):ApplyStatus(Crag_Claws10_Status,100,-1)"
data "StatusPropertyFlags" "DisableOverhead;DisableCombatlog;DisablePortraitIndicator;IgnoreResting"

new entry "Crag_Level1_Status"
type "StatusData"
data "StatusType" "BOOST"
data "Boosts" ""
data "StatusPropertyFlags" "DisableOverhead;DisableCombatlog;DisablePortraitIndicator;IgnoreResting"

new entry "Crag_Level5_Status"
type "StatusData"
data "StatusType" "BOOST"
data "Boosts" "AC(2);SpellSaveDC(1);Ability(Strength, 2);Ability(Dexterity, 2);Ability(Constitution, 2);Ability(Intelligence, 2);Ability(Wisdom, 2);Ability(Charisma, 2)"
data "OnApplyFunctors" "RemoveStatus(Crag_Level1_Status)"
data "StatusPropertyFlags" "DisableOverhead;DisableCombatlog;DisablePortraitIndicator;IgnoreResting"

new entry "Crag_Level7_Status"
type "StatusData"
data "StatusType" "BOOST"
data "Boosts" "AC(2);SpellSaveDC(1);Ability(Strength, 2);Ability(Dexterity, 2);Ability(Constitution, 2);Ability(Intelligence, 2);Ability(Wisdom, 2);Ability(Charisma, 2)"
data "OnApplyFunctors" "RemoveStatus(Crag_Level1_Status);RemoveStatus(Crag_Level5_Status)"
data "StatusPropertyFlags" "DisableOverhead;DisableCombatlog;DisablePortraitIndicator;IgnoreResting"
data "Passives" "ExtraAttack"

new entry "Crag_Level10_Status"
type "StatusData"
data "StatusType" "BOOST"
data "Boosts" "AC(4);SpellSaveDC(2);Ability(Strength, 4);Ability(Dexterity, 4);Ability(Constitution, 4);Ability(Intelligence, 4);Ability(Wisdom, 4);Ability(Charisma, 4)"
data "OnApplyFunctors" "RemoveStatus(Crag_Level1_Status);RemoveStatus(Crag_Level5_Status);RemoveStatus(Crag_Level7_Status)"
data "StatusPropertyFlags" "DisableOverhead;DisableCombatlog;DisablePortraitIndicator;IgnoreResting"
data "Passives" "ExtraAttack"

new entry "Crag_Claws_Status"
type "StatusData"
data "StatusType" "BOOST"
data "Boosts" "UnlockSpell(Target_Claws_Crag)"
data "StatusPropertyFlags" "DisableOverhead;DisableCombatlog;DisablePortraitIndicator;IgnoreResting"

new entry "Crag_Claws5_Status"
type "StatusData"
data "StatusType" "BOOST"
data "Boosts" "UnlockSpell(Target_Claws_Crag2)"
data "OnApplyFunctors" "RemoveStatus(Crag_Claws_Status)"
data "StatusPropertyFlags" "DisableOverhead;DisableCombatlog;DisablePortraitIndicator;IgnoreResting"

new entry "Crag_Claws10_Status"
type "StatusData"
data "StatusType" "BOOST"
data "Boosts" "UnlockSpell(Target_Claws_Crag3)"
data "OnApplyFunctors" "RemoveStatus(Crag_Claws_Status);RemoveStatus(Crag_Claws5_Status)"
data "StatusPropertyFlags" "DisableOverhead;DisableCombatlog;DisablePortraitIndicator;IgnoreResting"
